{"is_source_file": true, "format": "Python", "description": "This file implements a Django custom management command that prompts the user for a PDF URL, downloads the PDF, extracts a description using WatcherAgent, generates an image via LyricistAgent based on the description, saves the image and a manifest, and manages flow control with error handling and environment checks.", "external_files": ["api.agents.watcher_agent", "api.agents.lyricist_agent", "api.utils.console", "api.utils.downloader"], "external_methods": ["WatcherAgent.get_description_from_pdf", "LyricistAgent.generate_image_from_description", "download_pdf_to_temp", "info", "success", "error", "headline", "prompt"], "published": [], "classes": [{"name": "Command", "description": "A Django management command class for converting PDF descriptions into images, handling download, extraction, generation, and logging."}], "methods": [{"name": "handle(self, *args, **options)", "description": "Main execution method that orchestrates the process: prompting for URL, downloading PDF, extracting description, generating image, saving manifest, and cleanup.", "scope": "Command", "scopeKind": "class"}, {"name": "None _write_manifest(self, description: str, image_path: str, *, source_url: str, temp_file: str)", "description": "Creates a manifest file recording the description, source URL, timestamps, and temp file used during image generation.", "scope": "Command", "scopeKind": "class"}, {"name": "_set_return_code(self, code: int)", "description": "Raises a SystemExit with the given code to indicate success (0) or failure (non-zero).", "scope": "Command", "scopeKind": "class"}], "calls": ["headline", "info", "prompt", "download_pdf_to_temp", "WatcherAgent.get_description_from_pdf", "LyricistAgent.generate_image_from_description", "self._write_manifest", "os.path.exists", "os.remove"], "search-terms": ["youtube_lyrics", "management/commands", "generate_image_from_description", "WatcherAgent", "LyricistAgent", "download_pdf_to_temp", "PDF description extraction", "image generation", "PDF \u2192 image"], "state": 2, "file_id": 23, "knowledge_revision": 82, "git_revision": "724d75f0fc37359380e2e0fa56e891240d46cf4f", "revision_history": [{"47": ""}, {"54": "1daea3777d9a4ac77b3108e130cf7c15c2eb3f73"}, {"56": "e96b276f7abdd72f801c7fd0352e9f4789153ba7"}, {"59": "e96b276f7abdd72f801c7fd0352e9f4789153ba7"}, {"73": "9454c6751dc15463fc95698e521fb7cff159a133"}, {"80": "724d75f0fc37359380e2e0fa56e891240d46cf4f"}, {"82": "724d75f0fc37359380e2e0fa56e891240d46cf4f"}], "ctags": [{"_type": "tag", "name": "Command", "path": "/home/kavia/workspace/code-generation/youtube-lyrics-generator-2745-2754/python_console_app/api/management/commands/youtube_lyrics.py", "pattern": "/^class Command(BaseCommand):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "IMAGE_OUTPUT_FILE", "path": "/home/kavia/workspace/code-generation/youtube-lyrics-generator-2745-2754/python_console_app/api/management/commands/youtube_lyrics.py", "pattern": "/^IMAGE_OUTPUT_FILE = \"generated_image.png\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_set_return_code", "path": "/home/kavia/workspace/code-generation/youtube-lyrics-generator-2745-2754/python_console_app/api/management/commands/youtube_lyrics.py", "pattern": "/^    def _set_return_code(self, code: int):$/", "language": "Python", "kind": "member", "signature": "(self, code: int)", "scope": "Command", "scopeKind": "class"}, {"_type": "tag", "name": "_write_manifest", "path": "/home/kavia/workspace/code-generation/youtube-lyrics-generator-2745-2754/python_console_app/api/management/commands/youtube_lyrics.py", "pattern": "/^    def _write_manifest(self, description: str, image_path: str, *, source_url: str, temp_file: /", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, description: str, image_path: str, *, source_url: str, temp_file: str)", "scope": "Command", "scopeKind": "class"}, {"_type": "tag", "name": "handle", "path": "/home/kavia/workspace/code-generation/youtube-lyrics-generator-2745-2754/python_console_app/api/management/commands/youtube_lyrics.py", "pattern": "/^    def handle(self, *args, **options):$/", "language": "Python", "kind": "member", "signature": "(self, *args, **options)", "scope": "Command", "scopeKind": "class"}, {"_type": "tag", "name": "help", "path": "/home/kavia/workspace/code-generation/youtube-lyrics-generator-2745-2754/python_console_app/api/management/commands/youtube_lyrics.py", "pattern": "/^    help = \"Generate an image from a description extracted from a PDF URL.\"$/", "language": "Python", "kind": "variable", "scope": "Command", "scopeKind": "class"}], "hash": "adcf0da19489197c6eddbe84203f0195", "format-version": 4, "code-base-name": "python_console_app", "filename": "python_console_app/api/management/commands/youtube_lyrics.py", "fields": [{"name": "IMAGE_OUTPUT_FILE = \"generated_image.png\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "help = \"Generate an image from a description extracted from a PDF URL.\"", "scope": "Command", "scopeKind": "class", "description": "unavailable"}]}